# 2.1 타입이란

### 1. 자료형으로서의 타입

- 변수: 값을 지정할 수 있는 공간(메모리)이자 값을 가리키는 이름
- 최신 ECMAScript 표준의 자바스크립트 데이터 타입

  - `undefined`
  - `null`
  - `Boolean`
  - `String`
  - `Symbol`
  - Numeric (`Number`, `BigInt`)
  - `Object`

- 자료형(data type)
  > 여러 종류의 데이터를 식별하는 분류 체계로, 컴파일러에 값의 형태를 알려줌

---

### 2. 집합으로서의 타입

- 타입 -> 값이 가질 수 있는 유효한 범위의 집합
  - 어떤 값이 **T**인걸 알면, 이 값으로 무슨 일을 할 수 있는지 사전에 알 수 있음.
  - 타입 시스템은 코드에서 쓰이는 유요한 값의 범위를 제한하여, 런타임 에러를 유발할 수 있는 유효하지 않은 값을 제한함.

```javascript
    const num: number = 123;
    const str: string = 'ab';

    function fuc(n: number) {   // 함수 인자에 들어갈 수 있는 값을 number 타입의 집합으로 제한
        ...
    }

    fun(num);
    fun(str); // 에러 발생 -> Argument of type 'string' is not assignable to parameter of type 'number'
```

- 함수 인자의 타입을 정의하지 않은 경우
  - 인자로 숫자가 아닌 다른 타입의 값을 전달하면, 의도와 다른 작업이 수행되고, 원하는 값을 얻을 수 없음

```javascript
function double(n) {
  return n * 2;
}

double(2); // 4
double("2"); // NaN
```

- 함수 인자의 타입을 정의한 경우
  - `string`타입은 n에 할당할 수 없기 때문에 에러가 발생하게 됨

```
    function double(n: number){
        return n*2;
    }

    double(2); // 4
    double("2"); // error 발생
```

---

### 3. 정적 타입과 동적 타입

- 정적 타입 시스템

  - 모든 변수의 타입이 컴파일 타임에 결정됨
  - 코드에서 개발자가 타입을 명시해야 하는 C, Java, TypeScript가 이에 속함
  - 컴파일 타임에 타입 에러를 발견할 수 있기 때문에, 프로그램 안정성 보장 가능

- 동적 타입 시스템
  - 변수 타입이 런타임에서 결정됨
  - Python, JavaScript 등이 이에 속함. 개발자가 직접 타입을 정의해줄 필요가 없음
  - 프로그램 실행 시 타입 에러가 발견됨.

> - 컴파일 타임: 컴퓨터가 소스코드를 이애할 수 있도록 기계어로 변환되는 시점
> - 런타임: 이후 변환된 파일이 메모리에 적재되어 실행되는 시점

---

### 4. 강타입과 약타입

- 암묵적 타입 변환(Implict coercion/comversion)

  - 개발자가 의도적으로 타입을 명시하거나 바꾸지 않았는데, 컴파일러/엔진 등에 의해 런타임에 타입이 자동으로 변경되는 것
  - 편리함을 제공하지만, 작성자의 의도와 다르게 동작할 수 있기 때문에 예기치 못한 오류가 발생할 가능성이 높아짐.

- 강타입(strongly type)

  - 서로 다른 타입을 갖는 값끼리 연산을 시도하면 컴파일러/인터프리터에서 에러가 발생
  - Python, Ruby, TypeScript

- 약타입(weakly type)
  - 서로 다른 타입을 갖는 값끼리 연산을 시도하면, 컴파일러/인터프리터가 내부적으로 판단하여 특정 값의 타입을 변환하여 연산을 수행 후 값을 반환
  - C++, Java, JavaScript

```javascript
const a = 3 + []; // "3"
const b = null + 12; // 12

let obj = {};
obj.foo; // undefined

function foo(num) {
  return num / 2;
}

foo("bar"); // NaN
```

- JS가 오류를 뱉지 않고, 어떤 값이든 반환하는 것이 바람직하지만은 않음

  - 3 + [] : 숫자 타입과 배열 간의 연산 결과가 `string`인 것은 납득하기 어려움.

- JS는 약타입 언어이기 때문에, 런타임에서 발생할 수 있는 에러를 예측하여 코드를 작성하는 것이 프로그램을 안전하게 만드는데(타입 안정성) 도움이 됨

  - 타입 안정성: 타입을 사용해서 프로그램이 유효하지 않은 작업을 수행하지 않도록 방지하는 것
  - 타입을 명시하여, 코드 작성 후, 개발자의 의도가 논리적으로 맞는지 검사 필요

- 타입 시스템
  - 타입 검사기가 프로그램에 타입을 할당하는 데 사용하는 규칙 집합
  - 어떤 타입을 사용하는지 컴파일러에 명시 or 자동으로 타입을 추론

#### TS는 두 타입 시스템의 영향을 모두 받음.

##### 따라서, 개발자는 두 방식중 하나를 선택하여 개발할 수 있음

---

### 5. 컴파일 방식

- 컴파일

  - 사람이 이해할 수 있는 방식으로 작성한 코드를 컴퓨터가 이해할 수 있는 기계어로 바꿔주는 과정
  - 개발자가 high-level 언어로 코드를 작성하면, 컴파일러가 바이너리 코드로 변환함
  - 서로 다른 수준(고수준 - 저수준) 간의 코드 변환을 의미

- TS의 컴파일
  - TS의 컴파일 결과물은 JS 파일임
  - TS의 탄생 이유가 JS의 컴파일 타임에 런타임 에러를 잡아내기 위한 것이기 때문.
    -> 때문에, TS를 컴파일 하면, 타입이 제거된 JS 코드만 남게 된다.

##### TS는 다른 타입의 개념을 사용하는 언어와는 다른 특징을 가지고 있음

- TS는 JS에 타입이라는 레이어를 얹은 **템플릿 언어** 또는 **확장 언어** 로 보는 의견도 있음
